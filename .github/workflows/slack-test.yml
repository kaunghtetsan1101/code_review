name: Test Slack
on: workflow_dispatch
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - name: Test Slack Integration
        env:
          SLACK_WEBHOOK: ${{ secrets.SLACK_WEBHOOK }}
        run: |
          # Check if environment variable is set
          if [ -z "$SLACK_WEBHOOK" ]; then
            echo "‚ùå SLACK_WEBHOOK not set!"
            exit 1
          else
            echo "‚úÖ SLACK_WEBHOOK is configured"
          
            # Send test message
            echo "üì§ Sending test message to Slack..."
          
            response=$(curl -s -X POST -H 'Content-type: application/json' \
              --data '{"text":"üéâ Slack integration is working! This is a test from GitHub Actions."}' \
              "$SLACK_WEBHOOK")
          
            echo "Response: $response"
          
            if [ "$response" = "ok" ]; then
              echo "‚úÖ Message sent successfully! Check your Slack channel."
            else
              echo "‚ùå Unexpected response: $response"
            fi
          fi